<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        // có 3 trường hợp:
    // 1. useEffect(callback)
    // - Gọi callback mỗi khi component re-render
    // 2. useEffect(callback, [])
    // 3. useEffect(callback, [desp])
    //----------------------

import { useEffect, useState } from "react";

    // 1. callback luôn được gọi sau khi component mounted

const tabs = ['posts', 'comments', 'albums']

function Content() {

    const [posts, setPosts] = useState([])
    const [type, setType] = useState('posts')
    const [showGoToTop, setShowGoToTop] = useState(false);

    useEffect(() => {
        fetch(`https://jsonplaceholder.typicode.com/${type}`)
        .then(res => res.json())
        .then(posts => {
            setPosts(posts);
        })
    }, [type])

    useEffect(() => {

        const handleScoll = () => {
            if (window.scrollY >= 200) {
                setShowGoToTop(true)
            } else {
                setShowGoToTop(false)
            }

            // setShowGoToTop(window.scrollY >= 200)

        }
        window.addEventListener('scroll', handleScoll)

        // Cleanup function
        return () => {
            window.removeEventListener('scroll', handleScoll)        
        }

    }, [])

    return (
            <div>
                {tabs.map(tab => (
                    <button 
                        key={tab}
                        style=
                            {type === tab ? {
                                color: '#fff',
                                background: '#333'
                            } : {}}
                        onClick={() => setType(tab)}
                    >
                        {tab}
                    </button>
                ))}
                {posts.map(post => (
                    <li key={post.id}>{post.title || post.name}</li>
                ))}
                {showGoToTop && (
                    <button style={{
                            position: 'fixed',
                            right: 20,
                            bottom: 20  
                    }}>
                        Go to top
                    </button>
                )}
            </div>
        )
}

export default Content;
     -->
</body>
</html>