<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        BÀI TOÁN
        XÂY DỰNG 1 ỨNG DỤNG THAY AVATAR => SHOW LÊN MÀN HÌNH

        // có 3 trường hợp:
    // 1. useEffect(callback)
    // - Gọi callback mỗi khi component re-render
    // 2. useEffect(callback, [])
    // 3. useEffect(callback, [desp])
    //----------------------

import { useEffect, useState } from "react";

    // 1. callback luôn được gọi sau khi component mounted
    // 2. CleanUp function luôn được gọi trước khi component unmounted
    // 3. CleanUp function luôn đc gọi trước khi callback được gọi unmounted


function Content() {
    const [avatar, setAvatar] = useState()

    useEffect(() => {
        return () => {
            avatar && URL.revokeObjectURL(avatar.preview)
        }
    }, [avatar])

    const handlerPreviewAvatar = (e) => {
        const file = e.target.files[0];

        file.preview = URL.createObjectURL(file)

        setAvatar(file)
    }
   
    return (
            <div>
                <input 
                    type="file" 
                    onChange={handlerPreviewAvatar}
                />
                {avatar && (
                    <img src={avatar.preview} alt="" width="80%" />
                )}
            </div>
        )
}

export default Content;
     -->
</body>
</html>